% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/search.R
\name{perplexica_search_with_retry}
\alias{perplexica_search_with_retry}
\title{Search with automatic retry on empty responses}
\usage{
perplexica_search_with_retry(
  query,
  max_retries = 2L,
  mode = "speed",
  base_url = perplexica_get_url(),
  verbose = FALSE
)
}
\arguments{
\item{query}{A character string containing the search query.}

\item{max_retries}{Maximum number of additional attempts after the first.}

\item{mode}{Optimisation mode passed to \code{\link[=perplexica_search]{perplexica_search()}}.}

\item{base_url}{Base URL of the Perplexica instance.}

\item{verbose}{If \code{TRUE}, prints the query and any retry attempts. Passed to
\code{\link[=perplexica_search]{perplexica_search()}}. Default \code{FALSE}.}
}
\value{
A list with elements \code{message} and \code{sources} (see \code{\link[=perplexica_search]{perplexica_search()}}).
}
\description{
Wraps \code{\link[=perplexica_search]{perplexica_search()}} and retries up to \code{max_retries} times when the
returned message is empty or an error occurs. Waits \code{5 * attempt} seconds
between attempts to avoid hammering the API.
}
\examples{
\dontrun{
perplexica_search_with_retry("Latest R release version", max_retries = 3)
perplexica_search_with_retry("Latest R release version", max_retries = 3, verbose = TRUE)
}
}
